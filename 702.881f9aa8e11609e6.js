"use strict";(self.webpackChunkfoodprojct=self.webpackChunkfoodprojct||[]).push([[702],{702:(D,d,i)=>{i.r(d),i.d(d,{UserRacipesModule:()=>O});var g=i(6814),p=i(7700),e=i(5879);let u=(()=>{class a{constructor(t,n){this.dialogRef=t,this.data=n}ngOnInit(){}onClose(){this.dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(p.so),e.Y36(p.WI))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-user-recipe-details"]],decls:15,vars:4,consts:[[1,"card-auth","py-5"],["src","","alt",""],[1,"d-flex","align-items-center","justify-content-between","mb-5"],[3,"click"],[1,"far","fa-times-circle","text-danger"],["alt","",1,"text-center","w-25",3,"src"],[1,"my-3"],["cdkFocusInitial","",1,"btn","btn-outline-danger","mx-end",3,"mat-dialog-close"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h3",2)(3,"span"),e._uU(4,"Recipe Details"),e.qZA(),e.TgZ(5,"span",3),e.NdJ("click",function(){return o.onClose()}),e._UZ(6,"i",4),e.qZA()(),e.TgZ(7,"div"),e._UZ(8,"img",5),e.TgZ(9,"h3",6),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()(),e.TgZ(13,"button",7),e._uU(14,"Favorite"),e.qZA()()),2&n&&(e.xp6(8),e.Q6J("src","https://upskilling-egypt.com:3006/"+o.data.imagePath,e.LSH),e.xp6(2),e.hij("Recipe Name : ",o.data.name,""),e.xp6(2),e.Oqu(o.data.description),e.xp6(1),e.Q6J("mat-dialog-close",o.data.id))},dependencies:[p.ZT]})}return a})();var m=i(4857),_=i(2425),h=i(7862),f=i(3140),l=i(6223),Z=i(1216),T=i(6537);function v(a,c){if(1&a&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&a){const t=c.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function x(a,c){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=c.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function b(a,c){if(1&a&&(e.ynx(0),e.YNc(1,x,2,1,"span",22),e.BQk()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.category)}}function U(a,c){1&a&&(e.TgZ(0,"span"),e._uU(1," No Category"),e.qZA())}function C(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",23),e._UZ(4,"img",24),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.YNc(12,b,2,1,"ng-container",15),e.YNc(13,U,2,0,"span",15),e.qZA(),e.TgZ(14,"td")(15,"div",25)(16,"a",26),e._UZ(17,"i",27),e.qZA(),e.TgZ(18,"ul",28)(19,"li")(20,"a",29),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.openDialog(s))}),e.TgZ(21,"span"),e._UZ(22,"i",30),e.qZA(),e.TgZ(23,"span",31),e._uU(24,"View"),e.qZA()()(),e.TgZ(25,"li")(26,"a",29),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.addToFavorite(s.id))}),e.TgZ(27,"span"),e._UZ(28,"i",32),e.qZA(),e.TgZ(29,"span",31),e._uU(30,"Favorite"),e.qZA()()()()()()()}if(2&a){const t=c.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("src","https://upskilling-egypt.com:3006/"+t.imagePath,e.LSH),e.xp6(2),e.Oqu(t.price),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.tag.name),e.xp6(2),e.Q6J("ngIf",t.category.length>0),e.xp6(1),e.Q6J("ngIf",0==t.category.length)}}function A(a,c){if(1&a&&(e.TgZ(0,"tbody"),e.YNc(1,C,31,7,"tr",22),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.tableData)}}const R=function(){return[5,10,25,50,100]};function y(a,c){if(1&a){const t=e.EpF();e.TgZ(0,"section",17)(1,"div",1)(2,"table",18)(3,"thead")(4,"tr")(5,"th"),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Image"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Price"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Description"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Tag"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Category"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Actions"),e.qZA()()(),e.YNc(19,A,2,1,"tbody",15),e.qZA(),e.TgZ(20,"div",19)(21,"mat-paginator",20,21),e.NdJ("page",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.handlePageEvent(o))}),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(19),e.Q6J("ngIf",t.tableData.length>0),e.xp6(2),e.Q6J("length",null==t.tableResponse?null:t.tableResponse.totalNumberOfRecords)("pageSize",null==t.tableResponse?null:t.tableResponse.pageSize)("pageSizeOptions",e.DdM(5,R))("pageIndex",null==t.tableResponse?null:t.tableResponse.pageNumber)}}function q(a,c){1&a&&(e.ynx(0),e._UZ(1,"app-no-data"),e.BQk())}let S=(()=>{class a{constructor(t,n,o,s,r){this._RecipeService=t,this.dialog=n,this._ToastrService=o,this._HelperService=s,this._favoriteService=r,this.searchValue="",this.pageNumber=1,this.pageSize=5,this.tableData=[],this.tags=[]}ngOnInit(){this.getTableData(),this.getAllTags()}getTableData(){this._RecipeService.getRecipe({pageSize:this.pageSize,pageNumber:this.pageNumber,name:this.searchValue,tagId:this.tagId}).subscribe({next:n=>{console.log(n),this.tableResponse=n,this.tableData=this.tableResponse?.data,console.log(this.tableData)},error:()=>{},complete:()=>{let n=this.tableResponse?.totalNumberOfRecords;void 0!==n?localStorage.setItem("categories",n.toLocaleString()):localStorage.setItem("categories","0")}})}getAllTags(){this._HelperService.getTags().subscribe({next:t=>{console.log(t),this.tags=t}})}handlePageEvent(t){console.log(t),this.pageNumber=t.pageIndex,this.pageSize=t.pageSize,this.getTableData()}openDialog(t){this.dialog.open(u,{data:t,width:"40%"}).afterClosed().subscribe(o=>{this.addToFavorite(o)})}addToFavorite(t){this._favoriteService.onAddToFav(t).subscribe({next:()=>{},error:()=>{},complete:()=>{this._ToastrService.success("Recipe Added To Favorite Successfully","ok")}})}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(m.j),e.Y36(p.uw),e.Y36(_._W),e.Y36(h.W),e.Y36(f.e))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-user-racipes"]],decls:26,vars:5,consts:[["id","user-recipe",1,"header-page","my-3"],[1,"container"],[1,"row"],[1,"col-md-9","d-flex","align-items-center"],[1,"px-5"],[1,"col-md-3"],["src","../../../assets/images/menu-avatar.svg","alt","",1,"w-75","mb-0"],[1,"table-header","mt-5"],[1,"col-md-10"],["type","text","placeholder","Search Here And Press Enter ",1,"form-control","rounded","shadow-sm",3,"ngModel","ngModelChange","keyup"],[1,"col-md-2"],["aria-label","Default select example",1,"form-select","shadow-sm",3,"ngModel","ngModelChange","change"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["class","py-4",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"py-4"],[1,"table","table-striped","text-center"],[1,"w-50","mx-auto","mt-5"],["aria-label","Select page",1,"demo-paginator","w-75","mx-auto",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["paginator",""],[4,"ngFor","ngForOf"],[1,"w-25"],["alt","",1,"w-25",3,"src"],[1,"dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","text-muted"],[1,"fa-solid","fa-ellipsis","fa-lg","text-main"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fa-regular","fa-eye","text-main"],[1,"p-2"],[1,"fas","fa-heart","text-danger"]],template:function(n,o){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),e._uU(6,"Recipes "),e.TgZ(7,"span"),e._uU(8,"Items!"),e.qZA()(),e.TgZ(9,"p"),e._uU(10," You can now add your items that any user can order it from the Application and you can edit "),e.qZA()()(),e.TgZ(11,"div",5)(12,"div"),e._UZ(13,"img",6),e.qZA()()()()(),e.TgZ(14,"section",7)(15,"div",1)(16,"div",2)(17,"div",8)(18,"input",9),e.NdJ("ngModelChange",function(r){return o.searchValue=r})("keyup",function(){return o.getTableData()}),e.qZA()(),e.TgZ(19,"div",10)(20,"select",11),e.NdJ("ngModelChange",function(r){return o.tagId=r})("change",function(){return o.getTableData()}),e.TgZ(21,"option",12),e._uU(22,"All"),e.qZA(),e.YNc(23,v,2,2,"option",13),e.qZA()()()()(),e.YNc(24,y,23,6,"section",14),e.YNc(25,q,2,0,"ng-container",15)),2&n&&(e.xp6(18),e.Q6J("ngModel",o.searchValue),e.xp6(2),e.Q6J("ngModel",o.tagId),e.xp6(3),e.Q6J("ngForOf",o.tags),e.xp6(1),e.Q6J("ngIf",o.tableData.length>0),e.xp6(1),e.Q6J("ngIf",0==o.tableData.length))},dependencies:[g.sg,g.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,Z.NW,T.d],styles:["#user-recipe[_ngcontent-%COMP%]{background-image:url(headerhome.15f266781ac1b511.svg);background-size:cover;background-repeat:no-repeat;background-position:center center;border-radius:15px;color:#fff;background-color:#009247}#user-recipe[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-weight:400;font-size:20px}"]})}return a})();var N=i(4581),J=i(3843);const I=[{path:"",component:S}];let O=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#a=this.\u0275inj=e.cJS({imports:[g.ez,N.Bz.forChild(I),J.m]})}return a})()}}]);