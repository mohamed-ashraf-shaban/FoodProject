"use strict";(self.webpackChunkfoodprojct=self.webpackChunkfoodprojct||[]).push([[359],{359:(P,p,a)=>{a.r(p),a.d(p,{UsersModule:()=>O});var c=a(6814),u=a(4581),g=a(8783),e=a(5879),b=a(9862);let m=(()=>{class i{constructor(t){this._httpClient=t}getAllUsers(t){return this._httpClient.get("Users",{params:t})}getCurrentUser(t){return this._httpClient.get(`Users/${t}`)}deleteCurrentUser(t){return this._httpClient.delete(`Users/${t}`)}static#e=this.\u0275fac=function(n){return new(n||i)(e.LFG(b.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var h=a(7700),_=a(2425),o=a(6223),Z=a(1216);function v(i,l){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"img",42),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.imagePath,e.LSH)}}function U(i,l){1&i&&(e.TgZ(0,"div",43)(1,"p",44),e._uU(2,"Not Image Available"),e.qZA()())}const f=function(i){return["/dashboard/admin/users/view",i]};function T(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",30),e.YNc(4,v,2,1,"div",31),e.YNc(5,U,3,0,"div",32),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"td")(18,"div",33)(19,"a",34),e._UZ(20,"i",35),e.qZA(),e.TgZ(21,"ul",36)(22,"li")(23,"a",37)(24,"span"),e._UZ(25,"i",38),e.qZA(),e.TgZ(26,"span",39),e._uU(27,"View"),e.qZA()()(),e.TgZ(28,"li")(29,"a",40),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.openDeleteDialog(r))}),e.TgZ(30,"span"),e._UZ(31,"i",41),e.qZA(),e.TgZ(32,"span",39),e._uU(33,"Delete"),e.qZA()()()()()()()}if(2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.userName),e.xp6(2),e.Q6J("ngIf",t.imagePath),e.xp6(1),e.Q6J("ngIf",!t.imagePath),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(2),e.Oqu(t.country),e.xp6(2),e.Oqu(t.group.name),e.xp6(2),e.Oqu(e.xi3(16,9,t.creationDate,"dd-MM-yyyy , hh:mm a")),e.xp6(8),e.Q6J("routerLink",e.VKq(12,f,t.id))}}function x(i,l){if(1&i&&(e.TgZ(0,"table",27)(1,"thead")(2,"tr"),e._UZ(3,"th",28),e.TgZ(4,"th",28),e._uU(5,"Image"),e.qZA(),e.TgZ(6,"th",28),e._uU(7,"Email"),e.qZA(),e.TgZ(8,"th",28),e._uU(9,"Phone"),e.qZA(),e.TgZ(10,"th",28),e._uU(11,"Country"),e.qZA(),e.TgZ(12,"th",28),e._uU(13,"Role"),e.qZA(),e.TgZ(14,"th",28),e._uU(15,"Join Date"),e.qZA(),e._UZ(16,"th",28)(17,"th"),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,T,34,14,"tr",29),e.qZA()()),2&i){const t=e.oxw();e.xp6(19),e.Q6J("ngForOf",t.tableData)}}function C(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",47)(2,"div",48)(3,"button",17),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.openDeleteDialog(r))}),e._UZ(4,"i",49),e.qZA(),e.TgZ(5,"div",50),e._UZ(6,"img",51),e.qZA()(),e.TgZ(7,"div",52)(8,"h5"),e._uU(9),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()()()()}if(2&i){const t=l.$implicit;e.xp6(7),e.Q6J("routerLink",e.VKq(3,f,t.id)),e.xp6(2),e.Oqu(t.userName),e.xp6(2),e.Oqu(t.email)}}function A(i,l){if(1&i&&(e.TgZ(0,"section",45)(1,"div",8)(2,"div",2),e.YNc(3,C,12,5,"div",46),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.tableData)}}const y=function(){return[5,10,25,100,200]};let D=(()=>{class i{constructor(t,n,s){this._adminUsersService=t,this.dialog=n,this._ToastrService=s,this.searchValue="",this.pageNumber=1,this.pageSize=5,this.tableData=[],this.groupId=0,this.isCards=!1}ngOnInit(){this.getTableData()}getTableData(){let t={};t=2==this.groupId||1==this.groupId?{pageSize:this.pageSize,pageNumber:this.pageNumber,groups:this.groupId,userName:this.searchValue}:{pageSize:this.pageSize,pageNumber:this.pageNumber,userName:this.searchValue},this._adminUsersService.getAllUsers(t).subscribe({next:n=>{console.log(n),this.tableResponse=n,this.tableData=this.tableResponse?.data}})}handlePageEvent(t){console.log(t),this.pageNumber=t.pageIndex,this.pageSize=t.pageSize,this.getTableData()}openDeleteDialog(t){console.log(t),this.dialog.open(g.F,{data:t,width:"50%"}).afterClosed().subscribe(s=>{s&&this.deleteUser(s.id)})}deleteUser(t){this._adminUsersService.deleteCurrentUser(t).subscribe({next:n=>{console.log(n)},error:n=>{},complete:()=>{this._ToastrService.success("user Deleted successfully","ok"),this.getTableData()}})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(m),e.Y36(h.uw),e.Y36(_._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-users"]],decls:46,vars:14,consts:[[1,"header-page","my-3"],[1,"container"],[1,"row"],[1,"col-md-9","d-flex","align-items-center"],[1,"px-5"],[1,"col-md-3"],["src","../../../assets/images/menu-avatar.svg","alt","",1,"w-75","mb-0"],["id","header-table",1,"my-3"],[1,"container-fluid"],[1,"d-flex","gap-5","justify-content-between","align-items-center"],[1,"flex-grow-1"],[1,"col-md-10"],["type","text","placeholder","Search Here","aria-label","search","aria-describedby","basic-addon1",1,"form-control","rounded",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-2"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value"],[1,""],[3,"click"],[1,"mr-2"],[1,"fa-solid","fa-power-off"],["id","table",1,"my-4"],[1,"d-flex","justify-content-between","content-table","mb-3"],["class","table table-hover text-center",4,"ngIf"],["id","user-cards",4,"ngIf"],[1,"w-50","mx-auto","mt-5"],["aria-label","Select page",1,"demo-paginator","w-100","mx-auto",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["paginator",""],[1,"table","table-hover","text-center"],["scope","col"],[4,"ngFor","ngForOf"],[1,"w-25"],[4,"ngIf"],["class","no-img",4,"ngIf"],[1,"dropdown","text-center"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","text-muted"],[1,"fa-solid","fa-ellipsis","fa-lg","text-main"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"],[1,"fa-regular","fa-eye","text-main"],[1,"p-2"],[1,"dropdown-item",3,"click"],[1,"fa-solid","fa-trash-can","text-danger"],["alt","",1,"w-25","rounded-lg","border-success",3,"src"],[1,"no-img"],[1,"text-muted"],["id","user-cards"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"card-item","shadow","mb-4"],[1,"card-header"],[1,"far","fa-trash-alt","text-danger"],[1,"user-profile"],["src","./assets/images/avatar.png","alt","",1,"w-100"],["role","button",1,"card-details","p-3",3,"routerLink"]],template:function(n,s){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),e._uU(6,"Recipes "),e.TgZ(7,"span"),e._uU(8,"Items!"),e.qZA()(),e.TgZ(9,"p"),e._uU(10," You can now add your items that any user can order it from the Application and you can edit "),e.qZA()()(),e.TgZ(11,"div",5)(12,"div"),e._UZ(13,"img",6),e.qZA()()()()(),e.TgZ(14,"section",7)(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",2)(19,"div",11)(20,"input",12),e.NdJ("ngModelChange",function(d){return s.searchValue=d})("keyup.enter",function(){return s.getTableData()}),e.qZA()(),e.TgZ(21,"div",13)(22,"select",14),e.NdJ("ngModelChange",function(d){return s.groupId=d})("change",function(){return s.getTableData()}),e.TgZ(23,"option",15),e._uU(24,"All"),e.qZA(),e.TgZ(25,"option",15),e._uU(26,"Super Admin"),e.qZA(),e.TgZ(27,"option",15),e._uU(28,"System User"),e.qZA()()()()(),e.TgZ(29,"div",16)(30,"button",17),e.NdJ("click",function(){return s.isCards=!s.isCards}),e.TgZ(31,"span",18),e._uU(32," Show as Cards "),e.qZA(),e._UZ(33,"i",19),e.qZA()()()()(),e.TgZ(34,"section",20)(35,"div",8)(36,"div",21)(37,"p"),e._uU(38,"Name"),e.qZA(),e.TgZ(39,"p"),e._uU(40,"Actions"),e.qZA()(),e.YNc(41,x,20,1,"table",22),e.YNc(42,A,4,1,"section",23),e.TgZ(43,"div",24)(44,"mat-paginator",25,26),e.NdJ("page",function(d){return s.handlePageEvent(d)}),e.qZA()()()()),2&n&&(e.xp6(20),e.Q6J("ngModel",s.searchValue),e.xp6(2),e.Q6J("ngModel",s.groupId),e.xp6(1),e.Q6J("value",0),e.xp6(2),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(3),e.Tol(s.isCards?"primary":"outline-primary"),e.xp6(11),e.Q6J("ngIf",s.isCards),e.xp6(1),e.Q6J("ngIf",!s.isCards),e.xp6(2),e.Q6J("length",null==s.tableResponse?null:s.tableResponse.totalNumberOfRecords)("pageSize",null==s.tableResponse?null:s.tableResponse.pageSize)("pageSizeOptions",e.DdM(13,y))("pageIndex",null==s.tableResponse?null:s.tableResponse.pageNumber))},dependencies:[c.sg,c.O5,u.rH,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.On,Z.NW,c.uU],styles:[".card-header[_ngcontent-%COMP%]{background-image:url(headerhome.15f266781ac1b511.svg);background-position:center;background-size:cover;height:150px;border-radius:20px;position:relative}.card-header[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{border:5px solid #DDD;height:80px;width:80px;border-radius:50%;position:absolute;right:30px;bottom:-15%}.card-item[_ngcontent-%COMP%]{position:relative;border-radius:20px;transition:all .3s}.card-item[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.card-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;transition:all .6s}.card-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000}.card-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}return i})();var q=a(3843),N=a(7862);const w=function(){return["/dashboard/admin/users"]},I=[{path:"",component:D},{path:"view/:id",component:(()=>{class i{constructor(t,n,s,r,d,M){this._helperService=t,this.toastr=n,this._AdminUsersService=s,this._activatedRoute=r,this._Router=d,this.dialog=M,this.isViewPage=!1,this.userId=0,this.userForm=new o.cw({id:new o.NI,userName:new o.NI,email:new o.NI,country:new o.NI,phoneNumber:new o.NI,imagePath:new o.NI(null),role:new o.NI,joinDate:new o.NI,modificationDate:new o.NI}),this.userId=this._activatedRoute.snapshot.params.id,this.userId=r.snapshot.params.id,this.userId?(this.isViewPage=!0,this.getuserById(this.userId)):this.isViewPage=!1,this._activatedRoute.url.subscribe(J=>{this.isViewPage=J.some(F=>"view"===F.path),console.log(this.isViewPage),this.disableFormControls()})}ngOnInit(){console.log(this.userId),this.getuserById(this.userId)}getuserById(t){this._AdminUsersService.getCurrentUser(t).subscribe({next:n=>{console.log(n),this.userData=n},error:()=>{},complete:()=>{this.userForm.patchValue({userName:this.userData?.userName,country:this.userData?.country,phoneNumber:this.userData?.phoneNumber,joinDate:this.userData?.creationDate,modificationDate:this.userData?.modificationDate,email:this.userData?.email})}})}disableFormControls(){this.isViewPage&&(this.userForm.get("userName")?.disable(),this.userForm.get("email")?.disable(),this.userForm.get("country")?.disable(),this.userForm.get("phoneNumber")?.disable(),this.userForm.get("role")?.disable(),this.userForm.get("joinDate")?.disable(),this.userForm.get("modificationDate")?.disable())}openDeleteDialog(t){console.log(t),this.dialog.open(g.F,{data:t,width:"50%"}).afterClosed().subscribe(s=>{s&&this.deleteUser(s.id)})}deleteUser(t){this._AdminUsersService.deleteCurrentUser(t).subscribe({next:n=>{console.log(n)},error:n=>{},complete:()=>{this.toastr.success("user Deleted successfully","ok"),this._Router.navigate(["/dashboard/admin/users"])}})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(N.W),e.Y36(_._W),e.Y36(m),e.Y36(u.gz),e.Y36(u.F0),e.Y36(h.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edite-users"]],decls:61,vars:5,consts:[["id","userInfo-header",1,"my-3"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"px-5"],[1,"text-main"],["type","submit",1,"primary",3,"routerLink"],[1,"fa-solid","fa-arrow-right","pl-2"],[1,"user-profile"],["src","./assets/images/avatar.png","alt","",1,"w-100"],[1,"card-auth"],[3,"formGroup"],[1,"profile-info"],[1,"mb-0"],[1,"col-md-4"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text","h-100"],[1,"fa-solid","fa-money-check-dollar"],["formControlName","email","type","text","aria-label","email","aria-describedby","basic-addon1",1,"form-control","text-muted"],["formControlName","country","type","text","aria-label","country","aria-describedby","basic-addon1",1,"form-control","text-muted"],["formControlName","phoneNumber","type","text","aria-label","phoneNumber","aria-describedby","basic-addon1",1,"form-control","text-muted"],[1,"col-md-6"],["formControlName","joinDate","type","text","aria-label","joinDate","aria-describedby","basic-addon1",1,"form-control","text-muted"],["formControlName","modificationDate","type","text","aria-label","modificationDate","aria-describedby","basic-addon1",1,"form-control","text-muted"],[1,"d-flex","justify-content-end","gap-2","my-4"],["type","submit",1,"btn","btn-outline-danger","px-4",3,"click"],["type","button","routerLink","/dashboard/admin/users",1,"btn","btn-outline-success"]],template:function(n,s){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),e._uU(6,"View "),e.TgZ(7,"span",5),e._uU(8,"the User!"),e.qZA()(),e.TgZ(9,"p"),e._uU(10," you can now fill the meals easily using the table and form , click here and sill it with the table ! "),e.qZA(),e.TgZ(11,"div")(12,"button",6),e._uU(13," All Users "),e._UZ(14,"i",7),e.qZA()(),e.TgZ(15,"div",8),e._UZ(16,"img",9),e.qZA()()()()()(),e.TgZ(17,"section",10)(18,"form",11)(19,"div",12)(20,"h1",13),e._uU(21),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.qZA()(),e.TgZ(24,"div",2)(25,"div",14)(26,"div",15)(27,"div",16)(28,"span",17),e._UZ(29,"i",18),e.qZA()(),e._UZ(30,"input",19),e.qZA()(),e.TgZ(31,"div",14)(32,"div",15)(33,"div",16)(34,"span",17),e._UZ(35,"i",18),e.qZA()(),e._UZ(36,"input",20),e.qZA()(),e.TgZ(37,"div",14)(38,"div",15)(39,"div",16)(40,"span",17),e._UZ(41,"i",18),e.qZA()(),e._UZ(42,"input",21),e.qZA()(),e.TgZ(43,"div",22)(44,"div",15)(45,"div",16)(46,"span",17),e._UZ(47,"i",18),e.qZA()(),e._UZ(48,"input",23),e.qZA()(),e.TgZ(49,"div",22)(50,"div",15)(51,"div",16)(52,"span",17),e._UZ(53,"i",18),e.qZA()(),e._UZ(54,"input",24),e.qZA()(),e._UZ(55,"div"),e.TgZ(56,"div",25)(57,"button",26),e.NdJ("click",function(){return s.openDeleteDialog(s.userId)}),e._uU(58,"Delete"),e.qZA(),e.TgZ(59,"button",27),e._uU(60," Cancel "),e.qZA()()()()()),2&n&&(e.xp6(12),e.Q6J("routerLink",e.DdM(4,w)),e.xp6(6),e.Q6J("formGroup",s.userForm),e.xp6(3),e.hij(" ",null==s.userData?null:s.userData.userName," "),e.xp6(2),e.Oqu(null==s.userData||null==s.userData.group?null:s.userData.group.name))},dependencies:[u.rH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:["#userInfo-header[_ngcontent-%COMP%]{background-color:#f0ffef;padding:30px 20px;border-radius:20px;position:relative}#userInfo-header[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{border:5px solid #DDD;height:150px;width:150px;border-radius:50%;position:absolute;right:10%;bottom:-15%}"]})}return i})()}];let O=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[c.ez,u.Bz.forChild(I),q.m,o.u5]})}return i})()}}]);